<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="../lib/jquery.min.js"></script>
    <script type="text/javascript" src="../lib/osql.js"></script>

    <script>
        osql.requireLogin();//すべてのページに入れる．google認証をして，osql.connect()や，osql.getMe()を使えるようにしてくれる．
        $().ready(function () {
            init();
        });
        function init() {
            var userID = sessionStorage.getItem('userid');
            var userName = sessionStorage.getItem('username');
            console.log(userID);
            console.log(userName);
            document.getElementById('welcome').innerHTML = "ようこそ" + userName + "さん"
        }
        function button1Pressed() {
            var userID = sessionStorage.getItem('userid');
            if (userID) {
            location.href = "file:///C:/Users/user/OneDrive/%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88/isapp2/06Userv2/update.html?userid=" + encodeURIComponent(userID);
            } else {
            alert("ユーザーIDが見つかりません。ログインしてください。");
            }
        }
    </script>

</head>

<body>
    <h1>ユーザトップ</h1>
    <p id="welcome">ようこそxxさん</p>
    <hr>
　　<h1>ユーザ情報変更ボタン</h1>
    <button onclick="button1Pressed()">ユーザ情報変更</button>
    
</body>

</html>